const quizDatabase = {
    paragraph_14: {
        title: "¬ß 14. –†–∞–∑–≤–∏—Ç–∏–µ –∫—É–ª—å—Ç—É—Ä—ã –ë–µ–ª–∞—Ä—É—Å–∏ –≤ XIX ‚Äî –Ω–∞—á–∞–ª–µ –•–• –≤.",
        coverImage: "images/quiz_covers/culture_cover.jpg",
        questions: [
            {
                question: "–ß—Ç–æ —Å–ø–æ—Å–æ–±—Å—Ç–≤–æ–≤–∞–ª–æ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–æ–º—É –ø—Ä–æ–≥—Ä–µ—Å—Å—É –≤ –ø—Ä–æ–º—ã—à–ª–µ–Ω–Ω–æ—Å—Ç–∏?",
                answers: [
                    "–†–∞–∑–≤–∏—Ç–∏–µ –ª–∏—Ç–µ—Ä–∞—Ç—É—Ä—ã",
                    "–°–æ–∑–¥–∞–Ω–∏–µ —Ç–µ–∞—Ç—Ä–∞–ª—å–Ω—ã—Ö —Ç—Ä—É–ø–ø",
                    "–ü—Ä–æ–≤–µ–¥–µ–Ω–∏–µ —à–∫–æ–ª—å–Ω–æ–π —Ä–µ—Ñ–æ—Ä–º—ã",
                    "–ò–∑–æ–±—Ä–µ—Ç–µ–Ω–∏–µ –ø–∞—Ä–æ–≤–æ–≥–æ –¥–≤–∏–≥–∞—Ç–µ–ª—è"
                ],
                correct: 3,
                explanation: "–ü—Ä–∞–≤–∏–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç: –ò–∑–æ–±—Ä–µ—Ç–µ–Ω–∏–µ –ø–∞—Ä–æ–≤–æ–≥–æ –¥–≤–∏–≥–∞—Ç–µ–ª—è. –ò–º–µ–Ω–Ω–æ –ø–∞—Ä–æ–≤–æ–π –¥–≤–∏–≥–∞—Ç–µ–ª—å —Å—Ç–∞–ª –∫–ª—é—á–µ–≤—ã–º —Ñ–∞–∫—Ç–æ—Ä–æ–º –ø—Ä–æ–º—ã—à–ª–µ–Ω–Ω–æ–π —Ä–µ–≤–æ–ª—é—Ü–∏–∏ –≤ XIX –≤–µ–∫–µ."
            },
            {
                question: "–ß—Ç–æ –±—ã–ª–æ –æ—Ç–ª–∏—á–∏—Ç–µ–ª—å–Ω–æ–π —á–µ—Ä—Ç–æ–π –Ω–æ–≤–æ–≥–æ —ç—Ç–∞–ø–∞ –≤ —Ä–∞–∑–≤–∏—Ç–∏–∏ —Ç–µ—Ö–Ω–∏–∫–∏?",
                answers: [
                    "–†—É—á–Ω–æ–π —Ç—Ä—É–¥",
                    "–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —ç–ª–µ–∫—Ç—Ä–∏—á–µ—Å—Ç–≤–∞",
                    "–ü—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–æ –º–∞—à–∏–Ω —Å –ø–æ–º–æ—â—å—é –¥—Ä—É–≥–∏—Ö –º–∞—à–∏–Ω",
                    "–†–∞–∑–≤–∏—Ç–∏–µ —Ç–æ—Ä–≥–æ–≤–ª–∏"
                ],
                correct: 2,
                explanation: "–ü—Ä–∞–≤–∏–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç: –ü—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–æ –º–∞—à–∏–Ω —Å –ø–æ–º–æ—â—å—é –¥—Ä—É–≥–∏—Ö –º–∞—à–∏–Ω. –≠—Ç–æ –æ–∑–Ω–∞—á–∞–ª–æ –ø–µ—Ä–µ—Ö–æ–¥ –∫ –º–∞—à–∏–Ω–Ω–æ–º—É –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤—É —Å—Ä–µ–¥—Å—Ç–≤ –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–∞."
            },
            {
                question: "–ß—Ç–æ –≤—ã–∑–≤–∞–ª–æ –ø–µ—Ä–µ–≤–æ—Ä–æ—Ç –≤ —Ä–∞–∑–≤–∏—Ç–∏–∏ —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–∞ –∏ —Å–≤—è–∑–∏?",
                answers: [
                    "–ü–æ—Ç—Ä–µ–±–Ω–æ—Å—Ç–∏ —Ç–æ—Ä–≥–æ–≤–ª–∏ –∏ –ø—Ä–æ–º—ã—à–ª–µ–Ω–Ω–æ—Å—Ç–∏",
                    "–†–∞–∑–≤–∏—Ç–∏–µ –Ω–∞—É–∫–∏",
                    "–î–µ—è—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∫—Ä—É–∂–∫–æ–≤",
                    "–®–∫–æ–ª—å–Ω–∞—è —Ä–µ—Ñ–æ—Ä–º–∞"
                ],
                correct: 0,
                explanation: "–ü—Ä–∞–≤–∏–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç: –ü–æ—Ç—Ä–µ–±–Ω–æ—Å—Ç–∏ —Ç–æ—Ä–≥–æ–≤–ª–∏ –∏ –ø—Ä–æ–º—ã—à–ª–µ–Ω–Ω–æ—Å—Ç–∏. –≠–∫–æ–Ω–æ–º–∏—á–µ—Å–∫–∏–µ –ø–æ—Ç—Ä–µ–±–Ω–æ—Å—Ç–∏ —Å—Ç–∞–ª–∏ –æ—Å–Ω–æ–≤–Ω—ã–º –¥–≤–∏–≥–∞—Ç–µ–ª–µ–º —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–æ–≥–æ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞."
            },
            {
                question: "–ö–∞–∫–∏–µ –ø—Ä–æ–±–ª–µ–º—ã –≤—ã–∑–≤–∞–ª–∞ –∏–Ω–¥—É—Å—Ç—Ä–∏–∞–ª–∏–∑–∞—Ü–∏—è?",
                answers: [
                    "–£–ø—Ä–æ—â–µ–Ω–∏–µ –∂–∏–∑–Ω–∏",
                    "–†–æ—Å—Ç —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç–∏",
                    "–û—â—É—â–µ–Ω–∏–µ —É—Ç—Ä–∞—Ç—ã –ø—Ä–æ—á–Ω–æ—Å—Ç–∏",
                    "–£—Å–∫–æ—Ä–µ–Ω–∏–µ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞"
                ],
                correct: 2,
                explanation: "–ü—Ä–∞–≤–∏–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç: –û—â—É—â–µ–Ω–∏–µ —É—Ç—Ä–∞—Ç—ã –ø—Ä–æ—á–Ω–æ—Å—Ç–∏. –ò–Ω–¥—É—Å—Ç—Ä–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–∏–Ω–µ—Å–ª–∞ –Ω–µ —Ç–æ–ª—å–∫–æ –ø—Ä–æ–≥—Ä–µ—Å—Å, –Ω–æ –∏ —Å–æ—Ü–∏–∞–ª—å–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã, –≤–∫–ª—é—á–∞—è —á—É–≤—Å—Ç–≤–æ –Ω–µ—É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç–∏."
            },
            {
                question: "–ö–∞–∫–∏–µ –≤–ª–∏—è–Ω–∏—è –∏—Å–ø—ã—Ç—ã–≤–∞–ª–∞ –∫—É–ª—å—Ç—É—Ä–∞ –ë–µ–ª–∞—Ä—É—Å–∏?",
                answers: [
                    "–¢–æ–ª—å–∫–æ –ø–æ–ª—å—Å–∫–æ–µ",
                    "–ü–æ–ª—å—Å–∫–æ–µ –∏ —Ä–æ—Å—Å–∏–π—Å–∫–æ–µ",
                    "–¢–æ–ª—å–∫–æ —Ä–æ—Å—Å–∏–π—Å–∫–æ–µ",
                    "–ï–≤—Ä–æ–ø–µ–π—Å–∫–æ–µ"
                ],
                correct: 1,
                explanation: "–ü—Ä–∞–≤–∏–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç: –ü–æ–ª—å—Å–∫–æ–µ –∏ —Ä–æ—Å—Å–∏–π—Å–∫–æ–µ. –ö—É–ª—å—Ç—É—Ä–∞ –ë–µ–ª–∞—Ä—É—Å–∏ —Ä–∞–∑–≤–∏–≤–∞–ª–∞—Å—å –ø–æ–¥ –≤–ª–∏—è–Ω–∏–µ–º –æ–±–µ–∏—Ö –∫—É–ª—å—Ç—É—Ä."
            },
            {
                question: "–ü–æ–¥ —á—å–∏–º –≤–ª–∏—è–Ω–∏–µ–º —Ä–∞–∑–≤–∏–≤–∞–ª–∞—Å—å —à–ª—è—Ö–µ—Ç—Å–∫–∞—è –∫—É–ª—å—Ç—É—Ä–∞ –¥–æ 1830-1831 –≥–≥.?",
                answers: [
                    "–†–æ—Å—Å–∏–π—Å–∫–∏–º",
                    "–ü–æ–ª—å—Å–∫–∏–º",
                    "–ë–µ–ª–æ—Ä—É—Å—Å–∫–∏–º",
                    "–£–∫—Ä–∞–∏–Ω—Å–∫–∏–º"
                ],
                correct: 1,
                explanation: "–ü—Ä–∞–≤–∏–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç: –ü–æ–ª—å—Å–∫–∏–º. –î–æ –≤–æ—Å—Å—Ç–∞–Ω–∏—è 1830-1831 –≥–æ–¥–æ–≤ —à–ª—è—Ö–µ—Ç—Å–∫–∞—è –∫—É–ª—å—Ç—É—Ä–∞ —Ä–∞–∑–≤–∏–≤–∞–ª–∞—Å—å –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–µ–Ω–Ω–æ –ø–æ–¥ –ø–æ–ª—å—Å–∫–∏–º –≤–ª–∏—è–Ω–∏–µ–º."
            },
            {
                image: "images/questions/culture_7_horizontal.jpg",
                question: "–í –∫–∞–∫–æ–º –≥–æ–¥—É –±—ã–ª –∑–∞–∫—Ä—ã—Ç –í–∏–ª–µ–Ω—Å–∫–∏–π —É–Ω–∏–≤–µ—Ä—Å–∏—Ç–µ—Ç?",
                answers: [
                    "1833",
                    "1831",
                    "1830",
                    "1832"
                ],
                correct: 3,
                explanation: "–ü—Ä–∞–≤–∏–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç: 1832. –í–∏–ª–µ–Ω—Å–∫–∏–π —É–Ω–∏–≤–µ—Ä—Å–∏—Ç–µ—Ç –±—ã–ª –∑–∞–∫—Ä—ã—Ç –≤ 1832 –≥–æ–¥—É –ø–æ—Å–ª–µ –≤–æ—Å—Å—Ç–∞–Ω–∏—è 1830-1831 –≥–æ–¥–æ–≤."
            },
            {
                question: "–ö—Ç–æ –±—ã–ª –Ω–æ—Å–∏—Ç–µ–ª–µ–º –±–µ–ª–æ—Ä—É—Å—Å–∫–∏—Ö —Ç—Ä–∞–¥–∏—Ü–∏–π –∏ —è–∑—ã–∫–∞?",
                answers: [
                    "–®–ª—è—Ö—Ç–∞",
                    "–ö—Ä–µ—Å—Ç—å—è–Ω—Å—Ç–≤–æ",
                    "–ì–æ—Ä–æ–∂–∞–Ω–µ",
                    "–î—É—Ö–æ–≤–µ–Ω—Å—Ç–≤–æ"
                ],
                correct: 1,
                explanation: "–ü—Ä–∞–≤–∏–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç: –ö—Ä–µ—Å—Ç—å—è–Ω—Å—Ç–≤–æ. –ò–º–µ–Ω–Ω–æ –∫—Ä–µ—Å—Ç—å—è–Ω—Å—Ç–≤–æ —Å–æ—Ö—Ä–∞–Ω–∏–ª–æ –±–µ–ª–æ—Ä—É—Å—Å–∫–∏–µ —Ç—Ä–∞–¥–∏—Ü–∏–∏ –∏ —è–∑—ã–∫ –≤ XIX –≤–µ–∫–µ."
            },
            {
                question: "–ö–æ–≥–¥–∞ –±—ã–ª–∞ –∏–∑–¥–∞–Ω–∞ ¬´–ò–¥–∏–ª–ª–∏—è¬ª –î—É–Ω–∏–Ω–∞-–ú–∞—Ä—Ü–∏–Ω–∫–µ–≤–∏—á–∞?",
                answers: [
                    "1820 –≥.",
                    "1863 –≥.",
                    "1889 –≥.",
                    "1846 –≥."
                ],
                correct: 3,
                explanation: "–ü—Ä–∞–≤–∏–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç: 1846 –≥. ¬´–ò–¥–∏–ª–ª–∏—è¬ª –±—ã–ª–∞ –∏–∑–¥–∞–Ω–∞ –≤ 1846 –≥–æ–¥—É –∏ —Å—Ç–∞–ª–∞ –≤–∞–∂–Ω—ã–º –ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ–º –±–µ–ª–æ—Ä—É—Å—Å–∫–æ–π –ª–∏—Ç–µ—Ä–∞—Ç—É—Ä—ã."
            },
            {
                question: "–ö–∞–∫–∏–µ —Å–±–æ—Ä–Ω–∏–∫–∏ –∏–∑–¥–∞–ª –ë–æ–≥—É—à–µ–≤–∏—á?",
                type: "multiple",
                answers: [
                    "¬´—Ñ–ª–µ–π—Ç–∞ –±–µ–ª–æ—Ä—É—Å—Å–∫–∞—è¬ª",
                    "¬´–î—É–¥–∫–∞ –±–µ–ª–æ—Ä—É—Å—Å–∫–∞—è¬ª",
                    "¬´–°–º—ã–∫ –±–µ–ª–æ—Ä—É—Å—Å–∫–∏–π¬ª",
                    "¬´–ü–µ—Ä–≤–æ–µ —á—Ç–µ–Ω–∏–µ¬ª"
                ],
                correct: [1, 2],
                explanation: "–ü—Ä–∞–≤–∏–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç: ¬´–î—É–¥–∫–∞ –±–µ–ª–æ—Ä—É—Å—Å–∫–∞—è¬ª –∏ ¬´–°–º—ã–∫ –±–µ–ª–æ—Ä—É—Å—Å–∫–∏–π¬ª. –§—Ä–∞–Ω—Ç–∏—à–µ–∫ –ë–æ–≥—É—à–µ–≤–∏—á –∏–∑–¥–∞–ª —ç—Ç–∏ —Å–±–æ—Ä–Ω–∏–∫–∏ –≤ 1891 –∏ 1894 –≥–æ–¥–∞—Ö."
            },
            {
                image: "images/questions/culture_11_vertical.jpg",
                question: "–ö—Ç–æ –¥–∞–ª –Ω–∞–∑–≤–∞–Ω–∏–µ —Å–±–æ—Ä–Ω–∏–∫—É ¬´–°–∫—Ä–∏–ø–∫–∞ –±–µ–ª–æ—Ä—É—Å—Å–∫–∞—è¬ª?",
                answers: [
                    "–ü–∞—à–∫–µ–≤–∏—á",
                    "–ë–æ–≥—É—à–µ–≤–∏—á",
                    "–ö—É–ø–∞–ª–∞",
                    "–ö–æ–ª–∞—Å"
                ],
                correct: 0,
                explanation: "–ü—Ä–∞–≤–∏–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç: –ü–∞—à–∫–µ–≤–∏—á. –ê–ª–æ–∏–∑–∞ –ü–∞—à–∫–µ–≤–∏—á (–¢—ë—Ç–∫–∞) –∏–∑–¥–∞–ª–∞ —Å–±–æ—Ä–Ω–∏–∫ ¬´–°–∫—Ä–∏–ø–∫–∞ –±–µ–ª–æ—Ä—É—Å—Å–∫–∞—è¬ª –≤ 1906 –≥–æ–¥—É."
            },
            {
                image: "images/questions/culture_12_vertical.jpg",
                question: "–ö–∞–∫–∏–µ –≤—É–∑—ã –¥–µ–π—Å—Ç–≤–æ–≤–∞–ª–∏ –≤ –Ω–∞—á–∞–ª–µ XIX –≤–µ–∫–∞?",
                answers: [
                    "–¢–æ–ª—å–∫–æ –í–∏–ª–µ–Ω—Å–∫–∏–π —É–Ω–∏–≤–µ—Ä—Å–∏—Ç–µ—Ç",
                    "–í–∏–ª–µ–Ω—Å–∫–∏–π —É–Ω–∏–≤–µ—Ä—Å–∏—Ç–µ—Ç –∏ –ü–æ–ª–æ—Ü–∫–∞—è –∞–∫–∞–¥–µ–º–∏—è",
                    "–£–Ω–∏–≤–µ—Ä—Å–∏—Ç–µ—Ç—ã –ü–µ—Ç–µ—Ä–±—É—Ä–≥–∞",
                    "–ì–æ—Ä—ã-–ì–æ—Ä–µ—Ü–∫–∏–π –∏–Ω—Å—Ç–∏—Ç—É—Ç"
                ],
                correct: 1,
                explanation: "–ü—Ä–∞–≤–∏–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç: –í–∏–ª–µ–Ω—Å–∫–∏–π —É–Ω–∏–≤–µ—Ä—Å–∏—Ç–µ—Ç –∏ –ü–æ–ª–æ—Ü–∫–∞—è –∞–∫–∞–¥–µ–º–∏—è. –í –Ω–∞—á–∞–ª–µ XIX –≤–µ–∫–∞ –Ω–∞ –±–µ–ª–æ—Ä—É—Å—Å–∫–∏—Ö –∑–µ–º–ª—è—Ö –¥–µ–π—Å—Ç–≤–æ–≤–∞–ª–∏ —ç—Ç–∏ –¥–≤–∞ –≤—ã—Å—à–∏—Ö —É—á–µ–±–Ω—ã—Ö –∑–∞–≤–µ–¥–µ–Ω–∏—è."
            },
            {
                question: "–ß—Ç–æ —Å–≤–∏–¥–µ—Ç–µ–ª—å—Å—Ç–≤—É–µ—Ç –æ —Å–æ—Å–ª–æ–≤–Ω–æ–º —Ö–∞—Ä–∞–∫—Ç–µ—Ä–µ –æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è?",
                answers: [
                    "–í—Å–µ—Å–æ—Å–ª–æ–≤–Ω–æ—Å—Ç—å",
                    "–ù–∞–ª–∏—á–∏–µ –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã—Ö —É—á–∏–ª–∏—â",
                    "–ü—Ä–µ–µ–º—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å –æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è",
                    "–î–æ—Å—Ç—É–ø –Ω–∏–∑—à–∏—Ö —Å–æ—Å–ª–æ–≤–∏–π —Ç–æ–ª—å–∫–æ –∫ –Ω–∞—á–∞–ª—å–Ω–æ–º—É –æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—é"
                ],
                correct: 3,
                explanation: "–ü—Ä–∞–≤–∏–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç: –î–æ—Å—Ç—É–ø –Ω–∏–∑—à–∏—Ö —Å–æ—Å–ª–æ–≤–∏–π —Ç–æ–ª—å–∫–æ –∫ –Ω–∞—á–∞–ª—å–Ω–æ–º—É –æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—é. –°–æ—Å–ª–æ–≤–Ω—ã–π —Ö–∞—Ä–∞–∫—Ç–µ—Ä –æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è –ø—Ä–æ—è–≤–ª—è–ª—Å—è –≤ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–∏ –¥–æ—Å—Ç—É–ø–∞ –∫ –æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—é –¥–ª—è –Ω–∏–∑—à–∏—Ö —Å–æ—Å–ª–æ–≤–∏–π."
            },
            {
                image: "images/questions/culture_14_horizontal.jpg",
                question: "–ö–∞–∫–æ–µ —É—á–µ–±–Ω–æ–µ –∑–∞–≤–µ–¥–µ–Ω–∏–µ –±—ã–ª–æ –ø–µ—Ä–≤—ã–º —Å–µ–ª—å—Å–∫–æ—Ö–æ–∑—è–π—Å—Ç–≤–µ–Ω–Ω—ã–º –≤—É–∑–æ–º?",
                answers: [
                    "–í–∏–ª–µ–Ω—Å–∫–∏–π —É–Ω–∏–≤–µ—Ä—Å–∏—Ç–µ—Ç",
                    "–ì–æ—Ä—ã-–ì–æ—Ä–µ—Ü–∫–∏–π –∏–Ω—Å—Ç–∏—Ç—É—Ç",
                    "–ü–æ–ª–æ—Ü–∫–∞—è –∞–∫–∞–¥–µ–º–∏—è",
                    "–ú–æ–ª–æ–¥–µ—á–Ω–µ–Ω—Å–∫–∞—è —Å–µ–º–∏–Ω–∞—Ä–∏—è"
                ],
                correct: 1,
                explanation: "–ü—Ä–∞–≤–∏–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç: –ì–æ—Ä—ã-–ì–æ—Ä–µ—Ü–∫–∏–π –∏–Ω—Å—Ç–∏—Ç—É—Ç. –ì–æ—Ä—ã-–ì–æ—Ä–µ—Ü–∫–∏–π –∑–µ–º–ª–µ–¥–µ–ª—å—á–µ—Å–∫–∏–π –∏–Ω—Å—Ç–∏—Ç—É—Ç, –æ—Ç–∫—Ä—ã—Ç—ã–π –≤ 1840 –≥–æ–¥—É, –±—ã–ª –ø–µ—Ä–≤—ã–º —Å–µ–ª—å—Å–∫–æ—Ö–æ–∑—è–π—Å—Ç–≤–µ–Ω–Ω—ã–º –≤—É–∑–æ–º –Ω–∞ —Ç–µ—Ä—Ä–∏—Ç–æ—Ä–∏–∏ –ë–µ–ª–∞—Ä—É—Å–∏."
            },
            {
                question: "–ö–∞–∫–∏–µ —É—á—Ä–µ–∂–¥–µ–Ω–∏—è –¥–∞–≤–∞–ª–∏ —Å—Ä–µ–¥–Ω–µ–µ –æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ?",
                type: "multiple",
                answers: [
                    "–ì–∏–º–Ω–∞–∑–∏–∏",
                    "–†–µ–∞–ª—å–Ω—ã–µ —É—á–∏–ª–∏—â–∞",
                    "–ö–∞–¥–µ—Ç—Å–∫–∏–µ –∫–æ—Ä–ø—É—Å–∞",
                    "–¶–µ—Ä–∫–æ–≤–Ω–æ-–ø—Ä–∏—Ö–æ–¥—Å–∫–∏–µ —à–∫–æ–ª—ã"
                ],
                correct: [0, 1],
                explanation: "–ü—Ä–∞–≤–∏–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç: –ì–∏–º–Ω–∞–∑–∏–∏ –∏ —Ä–µ–∞–ª—å–Ω—ã–µ —É—á–∏–ª–∏—â–∞. –≠—Ç–∏ —É—á—Ä–µ–∂–¥–µ–Ω–∏—è –¥–∞–≤–∞–ª–∏ —Å—Ä–µ–¥–Ω–µ–µ –æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ –≤ XIX –≤–µ–∫–µ."
            },
            {
                question: "–ö—Ç–æ —Å–æ–∑–¥–∞–ª —Ç—Ä—É–¥ ¬´–ë–µ–ª–æ—Ä—É—Å—ã¬ª?",
                answers: [
                    "–ù–æ—Å–æ–≤–∏—á",
                    "–ö–∞—Ä—Å–∫–∏–π",
                    "–î–æ–≤–Ω–∞—Ä-–ó–∞–ø–æ–ª—å—Å–∫–∏–π",
                    "–õ–∞—Å—Ç–æ–≤—Å–∫–∏–π"
                ],
                correct: 1,
                explanation: "–ü—Ä–∞–≤–∏–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç: –ö–∞—Ä—Å–∫–∏–π. –ï–≤—Ñ–∏–º–∏–π –ö–∞—Ä—Å–∫–∏–π —Å–æ–∑–¥–∞–ª —Ñ—É–Ω–¥–∞–º–µ–Ω—Ç–∞–ª—å–Ω—ã–π —Ç—Ä—É–¥ ¬´–ë–µ–ª–æ—Ä—É—Å—ã¬ª –≤ –Ω–∞—á–∞–ª–µ XX –≤–µ–∫–∞."
            },
            {
                question: "–ö–∞–∫–æ–π —Å–ª–æ–≤–∞—Ä—å —Å–æ–∑–¥–∞–ª –ù–æ—Å–æ–≤–∏—á?",
                answers: [
                    "¬´–ë–µ–ª–æ—Ä—É—Å—ã¬ª",
                    "¬´–ü—É—Ç–µ—à–µ—Å—Ç–≤–∏–µ –ø–æ –ü–æ–ª–µ—Å—å—é¬ª",
                    "¬´–ö—Ä–∞—Ç–∫–∞—è –∏—Å—Ç–æ—Ä–∏—è –ë–µ–ª–∞—Ä—É—Å–∏¬ª",
                    "¬´–°–ª–æ–≤–∞—Ä—å –±–µ–ª–æ—Ä—É—Å—Å–∫–æ–≥–æ –Ω–∞—Ä–µ—á–∏—è¬ª"
                ],
                correct: 3,
                explanation: "–ü—Ä–∞–≤–∏–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç: ¬´–°–ª–æ–≤–∞—Ä—å –±–µ–ª–æ—Ä—É—Å—Å–∫–æ–≥–æ –Ω–∞—Ä–µ—á–∏—è¬ª. –ò–≤–∞–Ω –ù–æ—Å–æ–≤–∏—á —Å–æ–∑–¥–∞–ª ¬´–°–ª–æ–≤–∞—Ä—å –±–µ–ª–æ—Ä—É—Å—Å–∫–æ–≥–æ –Ω–∞—Ä–µ—á–∏—è¬ª, –∏–∑–¥–∞–Ω–Ω—ã–π –≤ 1870 –≥–æ–¥—É."
            },
            {
                question: "–ö–∞–∫–∏–µ —Å—Ç–∏–ª–∏ —Å–º–µ–Ω—è–ª–∏ –¥—Ä—É–≥ –¥—Ä—É–≥–∞ –≤ –∏—Å–∫—É—Å—Å—Ç–≤–µ?",
                answers: [
                    "–ë–∞—Ä–æ–∫–∫–æ",
                    "–†–µ–∞–ª–∏–∑–º",
                    "–ú–æ–¥–µ—Ä–Ω",
                    "–†–æ–º–∞–Ω—Ç–∏–∑–º"
                ],
                correct: 1,
                explanation: "–ü—Ä–∞–≤–∏–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç: –†–µ–∞–ª–∏–∑–º. –í XIX - –Ω–∞—á–∞–ª–µ XX –≤–µ–∫–∞ –≤ –∏—Å–∫—É—Å—Å—Ç–≤–µ —Å–º–µ–Ω—è–ª–∏ –¥—Ä—É–≥ –¥—Ä—É–≥–∞ —Ä–æ–º–∞–Ω—Ç–∏–∑–º, —Ä–µ–∞–ª–∏–∑–º –∏ –º–æ–¥–µ—Ä–Ω."
            },
            {
                image: "images/questions/culture_19_horizontal.jpg",
                question: "–ö—Ç–æ –±—ã–ª –ø—Ä–µ–¥—Å—Ç–∞–≤–∏—Ç–µ–ª–µ–º —Ä–æ–º–∞–Ω—Ç–∏–∑–º–∞?",
                answers: [
                    "–•—Ä—É—Ü–∫–∏–π",
                    "–í–∞–Ω—å–∫–æ–≤–∏—á",
                    "–°–∏–ª–∏–≤–∞–Ω–æ–≤–∏—á",
                    "–ü—ç–Ω"
                ],
                correct: 1,
                explanation: "–ü—Ä–∞–≤–∏–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç: –í–∞–Ω—å–∫–æ–≤–∏—á. –í–∞–ª–µ–Ω—Ç–∏–π –í–∞–Ω—å–∫–æ–≤–∏—á –±—ã–ª —è—Ä–∫–∏–º –ø—Ä–µ–¥—Å—Ç–∞–≤–∏—Ç–µ–ª–µ–º —Ä–æ–º–∞–Ω—Ç–∏–∑–º–∞ –≤ –±–µ–ª–æ—Ä—É—Å—Å–∫–æ–π –∂–∏–≤–æ–ø–∏—Å–∏."
            },
            {
                image: "images/questions/culture_20_vertical.jpg",
                question: "–ö—Ç–æ –±—ã–ª –º–∞—Å—Ç–µ—Ä–æ–º –Ω–∞—Ç—é—Ä–º–æ—Ä—Ç–∞?",
                answers: [
                    "–•—Ä—É—Ü–∫–∏–π",
                    "–í–∞–Ω—å–∫–æ–≤–∏—á",
                    "–®–∞–≥–∞–ª",
                    "–ë—è–ª—ã–Ω–∏—Ü–∫–∏–π-–ë–∏—Ä—É–ª—è"
                ],
                correct: 0,
                explanation: "–ü—Ä–∞–≤–∏–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç: –•—Ä—É—Ü–∫–∏–π. –ò–≤–∞–Ω –•—Ä—É—Ü–∫–∏–π –±—ã–ª –≤—ã–¥–∞—é—â–∏–º—Å—è –º–∞—Å—Ç–µ—Ä–æ–º –Ω–∞—Ç—é—Ä–º–æ—Ä—Ç–∞ –≤ –±–µ–ª–æ—Ä—É—Å—Å–∫–æ–π –∂–∏–≤–æ–ø–∏—Å–∏ XIX –≤–µ–∫–∞."
            },
            {
                image: "images/questions/culture_21_vertical.jpg",
                question: "–ö—Ç–æ –æ—Å–Ω–æ–≤–∞–ª —à–∫–æ–ª—É –≤ –í–∏—Ç–µ–±—Å–∫–µ?",
                answers: [
                    "–®–∞–≥–∞–ª",
                    "–û—Ä–¥–∞",
                    "–ü—ç–Ω",
                    "–ì–æ—Ä–∞–≤—Å–∫–∏–π"
                ],
                correct: 2,
                explanation: "–ü—Ä–∞–≤–∏–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç: –ü—ç–Ω. –Æ–¥–µ–ª—å –ü—ç–Ω –æ—Å–Ω–æ–≤–∞–ª —Ö—É–¥–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—É—é —à–∫–æ–ª—É –≤ –í–∏—Ç–µ–±—Å–∫–µ, –≥–¥–µ —É—á–∏–ª–∏—Å—å –º–Ω–æ–≥–∏–µ –∏–∑–≤–µ—Å—Ç–Ω—ã–µ —Ö—É–¥–æ–∂–Ω–∏–∫–∏."
            },
            {
                question: "–ö–∞–∫–æ–π —Å—Ç–∏–ª—å –±—ã–ª –≤–µ–¥—É—â–∏–º –≤ –ø–µ—Ä–≤–æ–π –ø–æ–ª–æ–≤–∏–Ω–µ XIX –≤–µ–∫–∞?",
                answers: [
                    "–≠–∫–ª–µ–∫—Ç–∏–∫–∞",
                    "–ö–ª–∞—Å—Å–∏—Ü–∏–∑–º",
                    "–ú–æ–¥–µ—Ä–Ω",
                    "–ë–∞—Ä–æ–∫–∫–æ"
                ],
                correct: 1,
                explanation: "–ü—Ä–∞–≤–∏–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç: –ö–ª–∞—Å—Å–∏—Ü–∏–∑–º. –í –ø–µ—Ä–≤–æ–π –ø–æ–ª–æ–≤–∏–Ω–µ XIX –≤–µ–∫–∞ –≤ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–µ –ø—Ä–µ–æ–±–ª–∞–¥–∞–ª –∫–ª–∞—Å—Å–∏—Ü–∏–∑–º."
            },
            {
                question: "–ß—Ç–æ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–Ω–æ –¥–ª—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã –≤—Ç–æ—Ä–æ–π –ø–æ–ª–æ–≤–∏–Ω—ã XIX –≤–µ–∫–∞?",
                answers: [
                    "–≠–∫–ª–µ–∫—Ç–∏–∫–∞",
                    "–ö–ª–∞—Å—Å–∏—Ü–∏–∑–º",
                    "–ú–æ–¥–µ—Ä–Ω",
                    "–ì–æ—Ç–∏–∫–∞"
                ],
                correct: 0,
                explanation: "–ü—Ä–∞–≤–∏–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç: –≠–∫–ª–µ–∫—Ç–∏–∫–∞. –î–ª—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã –≤—Ç–æ—Ä–æ–π –ø–æ–ª–æ–≤–∏–Ω—ã XIX –≤–µ–∫–∞ –±—ã–ª–∞ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–Ω–∞ —ç–∫–ª–µ–∫—Ç–∏–∫–∞ - —Å–º–µ—à–µ–Ω–∏–µ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö —Å—Ç–∏–ª–µ–π."
            },
            {
                question: "–ö–∞–∫–∞—è –æ–ø–µ—Ä–∞ —Å—á–∏—Ç–∞–µ—Ç—Å—è –ø–µ—Ä–≤–æ–π –±–µ–ª–æ—Ä—É—Å—Å–∫–æ–π?",
                answers: [
                    "¬´–ü–∞–≤–ª–∏–Ω–∫–∞¬ª",
                    "¬´–ò–¥–∏–ª–ª–∏—è¬ª",
                    "¬´–†–∞–∑–æ—Ä–µ–Ω–Ω–æ–µ –≥–Ω–µ–∑–¥–æ¬ª",
                    "¬´–°–µ–ª—è–Ω–∫–∞¬ª"
                ],
                correct: 3,
                explanation: "–ü—Ä–∞–≤–∏–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç: ¬´–°–µ–ª—è–Ω–∫–∞¬ª. –û–ø–µ—Ä–∞ ¬´–°–µ–ª—è–Ω–∫–∞¬ª —Å—á–∏—Ç–∞–µ—Ç—Å—è –ø–µ—Ä–≤–æ–π –±–µ–ª–æ—Ä—É—Å—Å–∫–æ–π –Ω–∞—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–π –æ–ø–µ—Ä–æ–π."
            },
            {
                image: "images/questions/culture_25_vertical.jpg",
                question: "–ö—Ç–æ —Å–æ–∑–¥–∞–ª –ø–µ—Ä–≤—É—é —Ç–µ–∞—Ç—Ä–∞–ª—å–Ω—É—é —Ç—Ä—É–ø–ø—É?",
                answers: [
                    "–ë—É–π–Ω–∏—Ü–∫–∏–π",
                    "–î—É–Ω–∏–Ω-–ú–∞—Ä—Ü–∏–Ω–∫–µ–≤–∏—á",
                    "–ñ–¥–∞–Ω–æ–≤–∏—á",
                    "–ë—É—Ä–±–∏—Å"
                ],
                correct: 1,
                explanation: "–ü—Ä–∞–≤–∏–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç: –î—É–Ω–∏–Ω-–ú–∞—Ä—Ü–∏–Ω–∫–µ–≤–∏—á. –í–∏–Ω—Ü–µ–Ω—Ç –î—É–Ω–∏–Ω-–ú–∞—Ä—Ü–∏–Ω–∫–µ–≤–∏—á —Å–æ–∑–¥–∞–ª –ø–µ—Ä–≤—É—é –±–µ–ª–æ—Ä—É—Å—Å–∫—É—é —Ç–µ–∞—Ç—Ä–∞–ª—å–Ω—É—é —Ç—Ä—É–ø–ø—É –≤ —Å–µ—Ä–µ–¥–∏–Ω–µ XIX –≤–µ–∫–∞."
            },
            {
                question: "–ß—å—è —Ç—Ä—É–ø–ø–∞ –≥–∞—Å—Ç—Ä–æ–ª–∏—Ä–æ–≤–∞–ª–∞ –ø–æ –∏–º–ø–µ—Ä–∏–∏ –≤ 1907 –≥–æ–¥—É?",
                answers: [
                    "–ë—É–π–Ω–∏—Ü–∫–æ–≥–æ",
                    "–î—É–Ω–∏–Ω–∞-–ú–∞—Ä—Ü–∏–Ω–∫–µ–≤–∏—á–∞",
                    "–ë—É—Ä–±–∏—Å–∞",
                    "–ñ–¥–∞–Ω–æ–≤–∏—á–∞"
                ],
                correct: 0,
                explanation: "–ü—Ä–∞–≤–∏–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç: –ë—É–π–Ω–∏—Ü–∫–æ–≥–æ. –¢—Ä—É–ø–ø–∞ –ò–≥–Ω–∞—Ç–∞ –ë—É–π–Ω–∏—Ü–∫–æ–≥–æ –≥–∞—Å—Ç—Ä–æ–ª–∏—Ä–æ–≤–∞–ª–∞ –ø–æ –†–æ—Å—Å–∏–π—Å–∫–æ–π –∏–º–ø–µ—Ä–∏–∏ –≤ 1907-1913 –≥–æ–¥–∞—Ö."
            }
        ]
    },

    paragraph_15: {
        title: "¬ß 15. –ü–µ—Ä–≤–∞—è –º–∏—Ä–æ–≤–∞—è –≤–æ–π–Ω–∞ –∫–∞–∫ —Ä—É–±–µ–∂–Ω—ã–π –ø–µ—Ä–∏–æ–¥ –º–∏—Ä–æ–≤–æ–π –∏—Å—Ç–æ—Ä–∏–∏",
        coverImage: "images/quiz_covers/medieval_cover.jpg",
        questions: []
    },

    paragraph_16: {
        title: "¬ß 16. –ë–µ–ª–∞—Ä—É—Å—å –≤ –≥–æ–¥—ã –ü–µ—Ä–≤–æ–π –º–∏—Ä–æ–≤–æ–π –≤–æ–π–Ω—ã",
        coverImage: "images/quiz_covers/empire_cover.jpg",
        questions: []
    }
};

const firebaseConfig = {
    apiKey: "AIzaSyDk1oxsi6xZVv1yf_-8SpOk4b1lapgr6bI",
    authDomain: "quiz-834d2.firebaseapp.com",
    projectId: "quiz-834d2",
    storageBucket: "quiz-834d2.firebasestorage.app",
    messagingSenderId: "287075846771",
    appId: "1:287075846771:web:e94f93858c2a18a47cb806",
    measurementId: "G-TSEBHY1WNX"
};

try {
    firebase.initializeApp(firebaseConfig);
} catch (error) {
    console.log('Firebase —É–∂–µ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω');
}

const db = firebase.firestore();

let currentQuiz = null;
let currentQuizId = null;
let currentQuestion = 0;
let score = 0;
let timer = null;
let startTime = null;
let totalTimeSpent = 0;
let userAnswers = [];
let soundEnabled = true;
let selectedClass = null;
let selectedAnswers = [];
let correctAnswersCount = 0;

function formatTime(seconds) {
    if (seconds < 60) {
        return `${seconds} —Å–µ–∫`;
    } else {
        const minutes = Math.floor(seconds / 60);
        const remainingSeconds = seconds % 60;
        return `${minutes} –º–∏–Ω. ${remainingSeconds} —Å–µ–∫`;
    }
}

function toggleSound() {
    soundEnabled = !soundEnabled;
    updateSoundButton();
    localStorage.setItem('quizSoundEnabled', soundEnabled);
}

function updateSoundButton() {
    const soundToggle = document.getElementById('sound-toggle');
    const soundIcon = document.getElementById('sound-icon');
    const soundText = document.querySelector('.sound-text');
    
    if (soundToggle && soundIcon) {
        if (soundEnabled) {
            soundIcon.textContent = 'üîä';
            soundText.textContent = '–ó–≤—É–∫ –≤–∫–ª';
            soundToggle.classList.remove('muted');
            soundToggle.title = '–í—ã–∫–ª—é—á–∏—Ç—å –∑–≤—É–∫';
        } else {
            soundIcon.textContent = 'üîá';
            soundText.textContent = '–ó–≤—É–∫ –≤—ã–∫–ª';
            soundToggle.classList.add('muted');
            soundToggle.title = '–í–∫–ª—é—á–∏—Ç—å –∑–≤—É–∫';
        }
    }
}

function playCorrectSound() {
    if (!soundEnabled) return;
    
    try {
        const sound = document.getElementById('correct-sound');
        if (sound) {
            sound.currentTime = 0;
            sound.play().catch(e => console.log('–ù–µ —É–¥–∞–ª–æ—Å—å –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ—Å—Ç–∏ –∑–≤—É–∫'));
        }
    } catch (error) {
        console.log('–û—à–∏–±–∫–∞ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è –∑–≤—É–∫–∞');
    }
}

function playWrongSound() {
    if (!soundEnabled) return;
    
    try {
        const sound = document.getElementById('wrong-sound');
        if (sound) {
            sound.currentTime = 0;
            sound.play().catch(e => console.log('–ù–µ —É–¥–∞–ª–æ—Å—å –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ—Å—Ç–∏ –∑–≤—É–∫'));
        }
    } catch (error) {
        console.log('–û—à–∏–±–∫–∞ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è –∑–≤—É–∫–∞');
    }
}

async function saveResultToFirebase(resultData) {
    try {
        console.log('–ü–æ–ø—ã—Ç–∫–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –≤ Firebase:', resultData);
        
        const docRef = await db.collection('quizResults').add({
            ...resultData,
            timestamp: firebase.firestore.FieldValue.serverTimestamp(),
            id: Date.now().toString()
        });
        
        console.log('‚úÖ –†–µ–∑—É–ª—å—Ç–∞—Ç —É—Å–ø–µ—à–Ω–æ —Å–æ—Ö—Ä–∞–Ω–µ–Ω –≤ Firebase —Å ID:', docRef.id);
        return true;
    } catch (error) {
        console.error('‚ùå –û—à–∏–±–∫–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –≤ Firebase:', error);
        saveResultToLocalStorage(resultData);
        return false;
    }
}

async function getResultsFromFirebase(quizId = null) {
    try {
        let query = db.collection('quizResults');
        
        if (quizId) {
            query = query.where('quizId', '==', quizId);
        }
        
        const snapshot = await query.orderBy('timestamp', 'desc').get();
        const results = [];
        
        snapshot.forEach(doc => {
            results.push({
                id: doc.id,
                ...doc.data()
            });
        });
        
        console.log('–ó–∞–≥—Ä—É–∂–µ–Ω–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –∏–∑ Firebase:', results.length);
        return results;
    } catch (error) {
        console.error('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –∏–∑ Firebase:', error);
        return getResultsFromLocalStorage(quizId);
    }
}

function saveResultToLocalStorage(resultData) {
    try {
        let leaders = JSON.parse(localStorage.getItem('quizLeaders') || '[]');
        leaders.push({
            name: resultData.playerClass,
            score: resultData.score,
            quiz: resultData.quizTitle,
            quizId: resultData.quizId,
            time: resultData.time,
            date: new Date().toLocaleDateString('ru-RU'),
            timestamp: new Date().getTime()
        });
        localStorage.setItem('quizLeaders', JSON.stringify(leaders));
        console.log('–†–µ–∑—É–ª—å—Ç–∞—Ç —Å–æ—Ö—Ä–∞–Ω–µ–Ω –ª–æ–∫–∞–ª—å–Ω–æ');
    } catch (e) {
        console.error('–û—à–∏–±–∫–∞ –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è:', e);
    }
}

function getResultsFromLocalStorage(quizId = null) {
    try {
        const leaders = JSON.parse(localStorage.getItem('quizLeaders') || '[]');
        const formattedLeaders = leaders.map(item => ({
            playerClass: item.name,
            score: item.score,
            time: item.time,
            quizId: item.quizId,
            quizTitle: item.quiz,
            timestamp: item.timestamp
        }));
        
        if (quizId) {
            return formattedLeaders.filter(leader => leader.quizId === quizId);
        }
        return formattedLeaders;
    } catch (e) {
        console.error('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –ª–æ–∫–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö:', e);
        return [];
    }
}

function startQuiz(quizId) {
    currentQuiz = quizDatabase[quizId];
    currentQuizId = quizId;
    
    if (!currentQuiz.questions || currentQuiz.questions.length === 0) {
        showNotification('–≠—Ç–∞ –≤–∏–∫—Ç–æ—Ä–∏–Ω–∞ —Å–∫–æ—Ä–æ –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–Ω–∞!', 'info');
        return;
    }
    
    currentQuestion = 0;
    score = 0;
    userAnswers = [];
    selectedClass = null;
    selectedAnswers = [];
    correctAnswersCount = 0;
    startTime = new Date();
    
    const savedSound = localStorage.getItem('quizSoundEnabled');
    soundEnabled = savedSound !== null ? JSON.parse(savedSound) : true;
    updateSoundButton();
    
    document.getElementById('quiz-selection').classList.remove('active');
    document.getElementById('quiz-screen').classList.add('active');
    
    startTimer();
    showQuestion();
}

function showQuestion() {
    if (!currentQuiz) return;
    
    const question = currentQuiz.questions[currentQuestion];
    const questionImage = document.getElementById('question-image');
    
    questionImage.innerHTML = '';
    
    if (question.image && question.image.includes('.')) {
        questionImage.style.display = 'flex';
        
        const img = document.createElement('img');
        img.src = question.image;
        img.alt = '–ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –≤–æ–ø—Ä–æ—Å–∞';
        img.className = 'question-image-content';
        questionImage.appendChild(img);
        
        img.onerror = function() {
            questionImage.innerHTML = '';
            questionImage.style.display = 'none';
        };
    } else {
        questionImage.style.display = 'none';
    }
    
    const progress = ((currentQuestion) / currentQuiz.questions.length) * 100;
    document.getElementById('progress-fill').style.width = progress + '%';
    document.getElementById('progress-text').textContent = `–í–æ–ø—Ä–æ—Å ${currentQuestion + 1}/${currentQuiz.questions.length}`;
    
    document.getElementById('question-text').textContent = question.question;
    
    const answersContainer = document.getElementById('answers-container');
    answersContainer.innerHTML = '';
    
    selectedAnswers = [];
    correctAnswersCount = Array.isArray(question.correct) ? question.correct.length : 1;
    
    question.answers.forEach((answer, index) => {
        const button = document.createElement('button');
        button.className = 'answer-btn';
        button.innerHTML = `
            <span class="answer-text">${answer}</span>
            <span class="answer-hover-effect"></span>
        `;
        
        if (question.type === 'multiple') {
            button.onclick = () => selectMultipleAnswer(index, button, question);
        } else {
            button.onclick = () => checkSingleAnswer(index, button, question);
        }
        
        answersContainer.appendChild(button);
    });
    
    document.getElementById('next-btn').style.display = 'none';
    document.getElementById('quiz-feedback').style.display = 'none';
    document.getElementById('answer-explanation').style.display = 'none';
}

function selectMultipleAnswer(index, button, question) {
    if (selectedAnswers.includes(index)) {
        return;
    }
    
    selectedAnswers.push(index);
    button.classList.add('selected');
    button.style.transform = 'translateX(5px) scale(1.05)';
    button.style.borderColor = 'var(--primary)';
    button.style.background = 'rgba(108, 99, 255, 0.2)';
    
    if (selectedAnswers.length === correctAnswersCount) {
        setTimeout(() => {
            checkMultipleAnswer(question);
        }, 500);
    }
}

function checkSingleAnswer(selectedIndex, button, question) {
    const answerButtons = document.querySelectorAll('.answer-btn');
    const feedback = document.getElementById('quiz-feedback');
    const explanation = document.getElementById('answer-explanation');
    
    userAnswers.push({
        question: question.question,
        userAnswer: question.answers[selectedIndex],
        correctAnswer: question.answers[question.correct],
        isCorrect: selectedIndex === question.correct
    });
    
    answerButtons.forEach(btn => {
        btn.classList.add('disabled');
        btn.onclick = null;
    });
    
    if (selectedIndex === question.correct) {
        button.classList.add('correct');
        feedback.textContent = '‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ! +1 –±–∞–ª–ª';
        feedback.className = 'quiz-feedback correct';
        score += 1;
        
        playCorrectSound();
    } else {
        button.classList.add('incorrect');
        answerButtons[question.correct].classList.add('correct');
        feedback.textContent = '‚ùå –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ!';
        feedback.className = 'quiz-feedback incorrect';
        
        playWrongSound();
    }
    
    explanation.textContent = question.explanation;
    explanation.style.display = 'block';
    
    document.getElementById('next-btn').style.display = 'block';
}

function checkMultipleAnswer(question) {
    const answerButtons = document.querySelectorAll('.answer-btn');
    const feedback = document.getElementById('quiz-feedback');
    const explanation = document.getElementById('answer-explanation');
    
    const userAnswersText = selectedAnswers.map(idx => question.answers[idx]);
    const correctAnswersText = question.correct.map(idx => question.answers[idx]);
    
    userAnswers.push({
        question: question.question,
        userAnswers: userAnswersText,
        correctAnswers: correctAnswersText,
        isCorrect: false
    });
    
    answerButtons.forEach(btn => {
        btn.classList.add('disabled');
        btn.onclick = null;
    });
    
    const correctSet = new Set(question.correct);
    const selectedSet = new Set(selectedAnswers);
    const isCorrect = selectedSet.size === correctSet.size && 
                     Array.from(selectedSet).every(val => correctSet.has(val));
    
    answerButtons.forEach((button, index) => {
        if (question.correct.includes(index)) {
            button.classList.add('correct');
        } else if (selectedAnswers.includes(index) && !question.correct.includes(index)) {
            button.classList.add('incorrect');
        }
    });
    
    if (isCorrect) {
        feedback.textContent = '‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ! +1 –±–∞–ª–ª';
        feedback.className = 'quiz-feedback correct';
        score += 1;
        playCorrectSound();
        userAnswers[userAnswers.length - 1].isCorrect = true;
    } else {
        feedback.textContent = '‚ùå –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ!';
        feedback.className = 'quiz-feedback incorrect';
        playWrongSound();
    }
    
    explanation.textContent = question.explanation;
    explanation.style.display = 'block';
    
    document.getElementById('next-btn').style.display = 'block';
}

function nextQuestion() {
    currentQuestion++;
    
    if (currentQuestion < currentQuiz.questions.length) {
        showQuestion();
    } else {
        finishQuiz();
    }
}

function startTimer() {
    startTime = new Date();
    timer = setInterval(() => {
        const currentTime = new Date();
        totalTimeSpent = Math.floor((currentTime - startTime) / 1000);
        document.getElementById('timer').textContent = formatTime(totalTimeSpent);
    }, 1000);
}

function finishQuiz() {
    clearInterval(timer);
    
    const endTime = new Date();
    totalTimeSpent = Math.floor((endTime - startTime) / 1000);
    
    document.getElementById('quiz-screen').classList.remove('active');
    document.getElementById('results-screen').classList.add('active');
    
    const finalScore = score;
    
    document.getElementById('correct-answers').textContent = `${finalScore}/${currentQuiz.questions.length}`;
    document.getElementById('time-spent').textContent = formatTime(totalTimeSpent);
    document.getElementById('total-score').textContent = finalScore;
    
    selectedClass = null;
    document.querySelectorAll('.class-option').forEach(opt => {
        opt.classList.remove('active');
    });
}

function restartQuiz() {
    document.getElementById('results-screen').classList.remove('active');
    document.getElementById('quiz-selection').classList.add('active');
}

async function saveResults() {
    if (!selectedClass) {
        showNotification('–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤—ã–±–µ—Ä–∏—Ç–µ –≤–∞—à –∫–ª–∞—Å—Å!', 'error');
        return;
    }
    
    const playerName = '11' + selectedClass;
    const finalScore = parseInt(document.getElementById('total-score').textContent);
    
    const resultData = {
        playerClass: playerName,
        score: finalScore,
        time: totalTimeSpent,
        quizId: currentQuizId,
        quizTitle: currentQuiz.title
    };
    
    const saveBtn = document.querySelector('.btn-primary');
    const originalText = saveBtn.innerHTML;
    saveBtn.innerHTML = '<span>‚è≥ –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ...</span>';
    saveBtn.disabled = true;
    
    try {
        const firebaseSuccess = await saveResultToFirebase(resultData);
        
        if (firebaseSuccess) {
            showNotification('–†–µ–∑—É–ª—å—Ç–∞—Ç —É—Å–ø–µ—à–Ω–æ —Å–æ—Ö—Ä–∞–Ω–µ–Ω –≤ –æ–±—â—É—é —Ç–∞–±–ª–∏—Ü—É!', 'success');
            
            setTimeout(() => {
                window.location.href = `leaders.html?quiz=${currentQuizId}`;
            }, 2000);
        } else {
            showNotification('–†–µ–∑—É–ª—å—Ç–∞—Ç —Å–æ—Ö—Ä–∞–Ω–µ–Ω –ª–æ–∫–∞–ª—å–Ω–æ. –û–±—â–∞—è —Ç–∞–±–ª–∏—Ü–∞ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–∞.', 'warning');
            saveBtn.innerHTML = originalText;
            saveBtn.disabled = false;
        }
        
    } catch (error) {
        console.error('–û—à–∏–±–∫–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è:', error);
        showNotification('–û—à–∏–±–∫–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è', 'error');
        saveBtn.innerHTML = originalText;
        saveBtn.disabled = false;
    }
}

function showNotification(message, type = 'info') {
    document.querySelectorAll('.notification').forEach(n => n.remove());
    
    const notification = document.createElement('div');
    notification.className = `notification notification-${type}`;
    notification.innerHTML = `
        <div class="notification-content">
            <span class="notification-icon">${type === 'success' ? '‚úÖ' : type === 'error' ? '‚ùå' : type === 'warning' ? '‚ö†Ô∏è' : '‚ÑπÔ∏è'}</span>
            <span>${message}</span>
        </div>
    `;
    
    document.body.appendChild(notification);
    
    setTimeout(() => notification.classList.add('show'), 100);
    
    setTimeout(() => {
        notification.classList.remove('show');
        setTimeout(() => {
            if (notification.parentNode) {
                notification.remove();
            }
        }, 300);
    }, 4000);
}

function initClassSelector() {
    const classOptions = document.querySelectorAll('.class-option');
    
    classOptions.forEach(option => {
        option.addEventListener('click', function() {
            classOptions.forEach(opt => opt.classList.remove('active'));
            this.classList.add('active');
            selectedClass = this.getAttribute('data-class');
            console.log('–í—ã–±—Ä–∞–Ω –∫–ª–∞—Å—Å:', selectedClass);
        });
    });
}

document.addEventListener('DOMContentLoaded', function() {
    initClassSelector();
    
    const testAudio = document.createElement('audio');
    if (!testAudio.canPlayType) {
        soundEnabled = false;
        const soundToggle = document.getElementById('sound-toggle');
        if (soundToggle) {
            soundToggle.style.display = 'none';
        }
    }
    
    const savedSound = localStorage.getItem('quizSoundEnabled');
    if (savedSound !== null) {
        soundEnabled = JSON.parse(savedSound);
    }
    updateSoundButton();
    
    document.addEventListener('visibilitychange', function() {
        if (document.hidden) {
            document.querySelectorAll('audio').forEach(audio => {
                audio.pause();
            });
        }
    });
});